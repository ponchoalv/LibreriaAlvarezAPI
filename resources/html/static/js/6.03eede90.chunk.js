(window["webpackJsonplibreria-ts"]=window["webpackJsonplibreria-ts"]||[]).push([[6],{216:function(e,t,a){e.exports=a.p+"static/media/logo-black.77a5377c.png"},217:function(e,t,a){e.exports=a.p+"static/media/logo-small.fd5c862c.png"},380:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a(18),r=a(94),c=a(216),s=a.n(c),i=function(){return n.createElement("div",{className:"home"},n.createElement("img",{src:s.a,alt:"Librer\xeda Alvarez"}))},o=a(22),u=a(23),m=a(25),p=a(24),d=a(34),h=a(26),E=a(364),f=a(365),g=a(366),v=a(367),b=a(368),O=a(369),N=a(370),D=a(217),y=a.n(D),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggle=a.toggle.bind(Object(d.a)(a)),a.state={isOpen:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement("div",{className:"sidebar"},n.createElement(E.a,{className:"top-row pl-4",dark:!0},n.createElement(f.a,{href:"/"},n.createElement("img",{className:"home-logo",width:"35",height:"35",src:y.a,alt:"Librer\xeda Alvarez"}),"Librer\xeda \xc1lvarez"),n.createElement(g.a,{onClick:this.toggle})),n.createElement(v.a,{isOpen:this.state.isOpen,navbar:!0},n.createElement(b.a,{vertical:!0},n.createElement(O.a,{className:"px-3"},n.createElement(N.a,{tag:r.b,exact:!0,to:"/",activeClassName:"active"},n.createElement("span",{className:"oi oi-home","aria-hidden":"true"}),"Home")),n.createElement(O.a,{className:"px-3"},n.createElement(N.a,{tag:r.b,to:"".concat(this.props.match.url,"/list"),activeClassName:"active"},n.createElement("span",{className:"oi oi-list-rich","aria-hidden":"true"}),"Lista de Precios")),n.createElement(O.a,{className:"px-3"},n.createElement(N.a,{tag:r.b,to:"".concat(this.props.match.url,"/upload"),activeClassName:"active"},n.createElement("span",{className:"oi oi-cloud-upload","aria-hidden":"true"}),"Cargar Listas")),n.createElement(O.a,{className:"px-3"},n.createElement(N.a,{tag:r.b,to:"".concat(this.props.match.url,"/logout"),activeClassName:"active"},n.createElement("span",{className:"oi oi-account-logout","aria-hidden":"true"}),"Logout")))))}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}}]),t}(n.Component),C=a(51),x=a(27),L=a(19),T=a(371),w=a(375),j=a(376),P=a(49),F=n.lazy(function(){return Promise.all([a.e(2),a.e(5)]).then(a.bind(null,379))});function S(e){return n.createElement(n.Suspense,{fallback:e.fallback},n.createElement(F,{rows:e.rows,colorBoton:e.colorBoton,buttonText:e.buttonText}))}var z=a(372);var A=function(e){var t=e.row;return n.createElement("tr",null,n.createElement("td",null,t.desc),n.createElement("td",null,t.lista),n.createElement("td",null,B.format(t.price)),n.createElement("td",null,t.fecha))},B=new Intl.NumberFormat("es-AR",{currency:"ARS",minimumFractionDigits:2,style:"currency"});var R=function(e){var t=e.rows,a=e.searchText,l=e.selectedList,r=t.filter(function(e){return e.desc.includes(a)&&(""===l||e.lista===l)}).slice(0,20);return n.createElement(T.a,null,n.createElement(z.a,{responsive:!0},n.createElement("thead",{className:"thead-dark"},n.createElement("tr",null,n.createElement("th",null,"Descripci\xf3n"),n.createElement("th",null,"Lista"),n.createElement("th",null,"Precio"),n.createElement("th",null,"Fecha de la Lista"))),n.createElement("tbody",null,r.map(function(e,t){return n.createElement(A,{row:e,key:t})}))),n.createElement("div",{className:"d-flex flex-row-reverse"},n.createElement("div",{className:"p-2"}),n.createElement(S,{fallback:"Cargando...",rows:r,colorBoton:"info",buttonText:"Descargar planilla con datos filtrados"})))},U=a(373),I=a(381),J=a(374);var H=function(e){var t=e.searchText,a=e.updateSearch;return n.createElement(U.a,null,n.createElement(I.a,{addonType:"prepend"},"Buscar"),n.createElement(J.a,{placeholder:"Articulo",value:t,onChange:function(e){return a(e.currentTarget.value.toUpperCase())}}))};var X=function(e){var t=e.selectedDate,a=e.listsDateOptions,l=e.selectedDateChanged;return n.createElement(U.a,null,n.createElement(I.a,{addonType:"prepend"},"Fecha"),n.createElement(J.a,{type:"select",value:t.fecha,onChange:function(e){return l({fecha:e.currentTarget.value})},className:"custom-select"},a.map(function(e,t){return n.createElement("option",{key:t,value:e.fecha},e.fecha)})))};var q=function(e){var t=e.selectedList,a=e.selectOptions,l=e.selectedListChanged;return n.createElement(U.a,null,n.createElement(I.a,{addonType:"prepend"},"Lista"),n.createElement(J.a,{type:"select",value:t,onChange:function(e){return l(e.currentTarget.value.toUpperCase())},className:"custom-select"},n.createElement("option",{value:""},"Todas"),a.map(function(e,t){return n.createElement("option",{key:t,value:e},e)})))},G=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.token?this.props.children:n.createElement(l.a,{to:this.props.fallbackUrl})}}]),t}(n.Component),K=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(G,{fallbackUrl:"/",token:this.props.token},n.createElement(P.a,{loading:this.props.loading,error:this.props.error,initAction:this.props.init,loaded:this.props.loaded},n.createElement("div",null,n.createElement("h1",null,"Lista de Precios"),n.createElement("p",null,"Buscar entre ",n.createElement("b",null,this.props.prices.length)," articulos de librer\xeda y juguetes."),n.createElement(T.a,null,n.createElement(w.a,null,n.createElement(j.a,{sm:{size:4}},n.createElement(H,{searchText:this.props.searchText,updateSearch:this.props.updateSearchText})),n.createElement(j.a,{sm:{size:4}},n.createElement(q,{selectedList:this.props.selectedList,selectOptions:this.props.selectOptions,selectedListChanged:this.props.selectedListChanged})),n.createElement(j.a,{sm:{size:4}},n.createElement(X,{selectedDate:this.props.selectedDate,listsDateOptions:this.props.datesLoaded,selectedDateChanged:this.props.selectedDateChanged}))),n.createElement("br",null),n.createElement(w.a,null,n.createElement(j.a,null,n.createElement(R,{rows:this.props.prices,searchText:this.props.searchText,selectedList:this.props.selectedList}))),n.createElement(S,{fallback:"Cargando...",rows:this.props.prices,colorBoton:"primary",buttonText:"Descargar lista de precios completa"})))))}}]),t}(n.Component);var M=Object(x.b)(function(e){var t=e.prices,a=e.login;return{datesLoaded:t.datesLoaded,error:t.error,loaded:t.loaded,loading:t.loading,prices:t.prices,searchText:t.searchText,selectOptions:t.selectOptions,selectedDate:t.selectedDate,selectedList:t.selectedList,token:a.loginToken}},function(e){return{init:function(){return e(L.b())},selectedDateChanged:function(t){return e(L.h(t))},selectedListChanged:function(t){return e(L.i(t))},updateSearchText:function(t){return e(L.g(t))}}})(K),Q=a(7),V=a(218),W=a.n(V),Y=a(48),Z=a.n(Y),$=a(250),_=a.n($),ee=a(54),te=a.n(ee),ae=a(52),ne=a.n(ae),le=a(53),re=a.n(le),ce=a(377);var se=function(e){var t=e.row,a=e.deleteList;return n.createElement("tr",null,n.createElement("td",null,t.lista),n.createElement("td",null,t.fecha),n.createElement("td",null,t.registros),n.createElement("td",null,n.createElement(ce.a,{color:"danger","aria-label":"Eliminar",onClick:function(){return a({lista:t.lista,fecha:t.fecha})}},"Eliminar")))},ie=a(55),oe=a.n(ie),ue=a(58),me=a.n(ue),pe=a(59),de=a.n(pe),he=a(56),Ee=a.n(he),fe=a(57),ge=a.n(fe),ve=a(39),be=a.n(ve),Oe=a(249),Ne=a.n(Oe),De=a(42),ye=a.n(De),ke=a(41),Ce=a.n(ke),xe=a(378);var Le=function(e){var t=e.selectOptions,a=e.name;return n.createElement(be.a,null,n.createElement(xe.a,{for:"nombre-lista"},"Nombre de lista:"),n.createElement(J.a,{type:"select",name:a,className:"custom-select"},t.map(function(e,t){return n.createElement("option",{key:t,value:e},e)})))};var Te=function(e){return n.createElement(oe.a,{className:"border-primary"},n.createElement(Ee.a,null,n.createElement("h4",null,"Cargar una nueva planilla")),n.createElement(ge.a,{onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget);e.uploadForm(a)}},n.createElement(me.a,null,n.createElement(be.a,null,n.createElement(Ce.a,{for:"file"},"Planilla(.xlsx):"),n.createElement(ye.a,{type:"file",name:"file",id:"file",accept:".xls,.xlsx"}),n.createElement(Ne.a,{color:"muted"},"Seleccionar el archivo de la planilla a cargar (formato .xlsx)")),n.createElement(Le,{name:"tipo-lista",selectOptions:e.listTypeOptions}),n.createElement(be.a,null,n.createElement(Ce.a,{for:"nombre-lista"},"Nombre de lista:"),n.createElement(ye.a,{type:"text",name:"nombre-lista",id:"nombre-lista"})),n.createElement(ye.a,{type:"hidden",name:"nombre-hoja",value:"precios"}),n.createElement(ye.a,{type:"hidden",name:"fecha",value:e.fecha})),n.createElement(de.a,null,n.createElement(Z.a,{color:"primary"},"Subir Planilla"),"  ",n.createElement(Z.a,{color:"danger",onClick:e.toggleNuevaPlanilla},"Restablecer"))))};var we=function(e){return n.createElement("div",null,n.createElement("h3",null,"Planillas cargadas:"),n.createElement(z.a,{responsive:!0},n.createElement("thead",{className:"thead-dark"},n.createElement("tr",null,n.createElement("th",null,"Lista"),n.createElement("th",null,"Fecha"),n.createElement("th",null,"# Registros"),n.createElement("th",null,"Acci\xf3n"))),n.createElement("tbody",null,e.filteredlistOptions.map(function(t,a){return n.createElement(se,{row:t,key:a,deleteList:e.deleteList})}))),n.createElement("br",null),e.nuevaPlanilla?n.createElement(Te,{uploadForm:e.uploadForm,fecha:e.selectedDate.fecha,listTypeOptions:e.listTypeOptions,toggleNuevaPlanilla:e.toggleNuevaPlanilla}):n.createElement(ce.a,{color:"success",onClick:e.toggleNuevaPlanilla},"Cargar nueva planilla"))},je=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).dateChange=function(e){a.props.selectedDateChanged({fecha:e.toISOString().split("T")[0]})},a.getDate=function(){var e=a.props.selectedDate.fecha.split("-");return new Date(+e[0],+e[1]-1,+e[2])},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(G,{fallbackUrl:"/",token:this.props.token},n.createElement(P.a,{loading:this.props.loading,error:this.props.error,initAction:this.props.init,loaded:!1},n.createElement("h1",null,"Administrar la carga de listas"),n.createElement("p",null,"Fecha selecionada: ",n.createElement("b",null,this.props.selectedDate.fecha)),n.createElement(ne.a,null,this.props.addingNewDate?n.createElement(re.a,null,n.createElement(te.a,{sm:{size:4}},n.createElement(_.a,null,n.createElement(W.a,{onChange:this.dateChange,clearIcon:null,value:this.getDate(),locale:"es-419"}),n.createElement(Z.a,{color:"danger","aria-label":"Restablecer",onClick:this.props.clearEditingDate},n.createElement("span",null,"X"))))):n.createElement(re.a,null,n.createElement(te.a,{sm:{size:4}},n.createElement(X,{listsDateOptions:this.props.listsDateOptions,selectedDate:this.props.selectedDate,selectedDateChanged:this.props.selectedDateChanged})),n.createElement(te.a,{sm:{size:4}},n.createElement(Z.a,{color:"info",onClick:this.props.startEditing},"Agregar Nueva Fecha"))),n.createElement("br",null),n.createElement(re.a,null,n.createElement(te.a,null,n.createElement(we,{uploadForm:this.props.uploadForm,selectedDate:this.props.selectedDate,filteredlistOptions:this.props.filteredlistOptions,deleteList:this.props.deleteList,listTypeOptions:this.props.listTypeOptions,nuevaPlanilla:this.props.nuevaPlanilla,toggleNuevaPlanilla:this.props.toggleNuevaPlanilla}))))))}}]),t}(n.Component);var Pe=Object(x.b)(function(e){var t=e.upload,a=e.login;return{addingNewDate:t.addingNewDate,error:t.error,filteredlistOptions:t.filteredLists,listTypeOptions:t.listTypeOptions,listsDateOptions:t.listsDateOptions,loading:t.loading,nuevaPlanilla:t.nuevaPlanilla,selectedDate:t.selectedDate,token:a.loginToken}},function(e){return{clearEditingDate:function(){return e(Q.a())},deleteList:function(t){return e(Q.c(t))},init:function(){return e(Q.e())},selectedDateChanged:function(t){return e(Q.o(t))},startEditing:function(){return e(Q.k())},toggleNuevaPlanilla:function(){return e(Q.n())},uploadForm:function(t){return e(Q.p(t))}}})(je);t.default=function(e){var t=e.match;return n.createElement("div",{className:"app"},n.createElement(k,{match:t}),n.createElement("div",{className:"main"},n.createElement("div",{className:"top-row px-4"},n.createElement(r.a,{to:"/",className:"ml-md-auto"},"libreria-alvarez")),n.createElement("div",{className:"content px-4"},n.createElement(l.d,null,n.createElement(l.b,{exact:!0,path:"".concat(t.url),component:i}),n.createElement(l.b,{exact:!0,path:"".concat(t.url,"/list"),component:M}),n.createElement(l.b,{exact:!0,path:"".concat(t.url,"/upload"),component:Pe}),n.createElement(l.b,{component:C.a})))))}}}]);
//# sourceMappingURL=6.03eede90.chunk.js.map